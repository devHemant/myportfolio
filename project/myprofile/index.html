<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="../../font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="myprofile.css">
</head>

<body onload="showContainer()">
    <div class="container mt-5">

         <!-- Sign IN Container -->
         <div class="row" id="signInBox">
            <div class="d-flex justify-content-center allign-items-center">
                <div class="card w-75">
                    <div class="card-body">
                        <h4 class="text-center">Sign In!</h4>
                        <h6 class="text-danger text-sm" id="signInErrorMessage"></h6>
                        <form id="signInForm">
                            <div class="form-group">
                                <input type="Email" class="form-control" name="email" placeholder="Email" />
                            </div>
                            <div class="form-group">
                                <input type="Password" class="form-control" name="password" placeholder="Password" />
                            </div>
                            <!-- <div class="form-group form-check">
                                <input type="checkbox" class="form-check-input" name="remeber me">Remember me
                            </div> -->
                            <button type="submit" class="btn btn-primary btn-block rounded-pill">Sign In</button>
                            <hr />
                            <div class="text-sm text-center">
                                New on Site? <a href="#" class="text-decoration-none" onclick="showSignUp()"> Sign
                                    Up</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>



        <div id="myProfileInfoBox">
            <div class="row">
                <div class="col-lg-4">
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="d-flex-flex-column allign-items-center text-center">
                                <img class="rounded-circle" src="../../mypic.jpg" alt="" width="150" height="150">
                                <div class="mt-3">
                                    <h4 id="userCardFullName">Hemant Kumar</h4>
                                    <p class="text-secondary mb-1" id="userCardExprience">Full Stack Web Developer</p>
                                    <!-- <p class="text-muted font-size-sm" id="userCardAddress">Patna, Bihar, India.</p> -->
                                    <button class="btn btn-outline-dark" onclick="signOut()"><i class="fa fa-sign-out"
                                            aria-hidden="true"></i> Logout</button>
                                </div>
                                <h6 class="text-center text-uppercase font-weight-bolder mt-4">Follow Me</h6>
                                <div class=" d-flex justify-content-around allign-items-center mt-3">
                                    <div class="socialButton">
                                        <a class="text-dark" href="https://www.instagram.com/hemant017/"
                                            target="_blank"><i class="fa fa-instagram fa-2x" aria-hidden="true"></i></a>
                                    </div>
                                    <div class="socialButton">
                                        <a class="text-dark" href="https://www.linkedin.com/in/hemant-kumar-055427217/"
                                            target="_blank"><i class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
                                    </div>
                                    <div class="socialButton">
                                        <a class="text-dark" href="https://github.com/devHemant" target="_blank"><i
                                                class="fa fa-github fa-2x" aria-hidden="true"></i></a>
                                    </div>
                                    <div class="socialButton">
                                        <a class="text-dark" href="mailto:info.hemantkumar17@gmail.com"
                                            target="_blank"><i class="fa fa-google fa-2x" aria-hidden="true"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8">
                    <!-- Information card -->
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-lg-3">
                                    <h6 class="mb-0">Full Name</h6>
                                </div>
                                <div class="col-lg-9 text-secondary" id="userFullName">
                                    Hemant Kumar
                                </div>
                            </div>
                            <hr />
                            <div class="row">
                                <div class="col-lg-3">
                                    <h6 class="mb-0">Email</h6>
                                </div>
                                <div class="col-lg-9 text-secondary" id="userEmailId">
                                    info.hemantkumar17@gmail.com
                                </div>
                            </div>
                            <hr />
                            <div class="row">
                                <div class="col-lg-3">
                                    <h6 class="mb-0">Phone</h6>
                                </div>
                                <div class="col-lg-9 text-secondary" id="userPhone">
                                    (+91) - 9971362571
                                </div>
                            </div>
                            <!-- <hr /> -->
                            <!-- <div class="row">
                                <div class="col-lg-3">
                                    <h6 class="mb-0">Address</h6>
                                </div>
                                <div class="col-lg-9 text-secondary">
                                    Punpun, Patna, Bihar, India-804453
                                </div>
                            </div>
                            <hr /> -->
                            <!-- <div class="row">
                                <div class="col-lg-12">
                                    <button class="btn btn-outline-warning">Edit</button>
                                </div>
                            </div> -->
                        </div>
                    </div>
                    <!-- contact details -->
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-lg-12">
                                    <h4 class="text-center text-uppercase font-weight-bolder">Contact Details</h4>
                                </div>
                            </div>
                            <hr />
                            <form id="addressForm">
                                <div class="form-group">
                                    <label for="address1">Address</label>
                                    <input type="text" class="form-control" name="address1" id="address1">
                                </div>
                                <div class="form-group">
                                    <label for="address2">Address 2</label>
                                    <input type="text" class="form-control" name="address2" id="address2">
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="city">City</label>
                                        <input type="text" class="form-control" name="city" id="city">
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="state">State</label>
                                        <input type="text" class="form-control" name="state" id="state">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="country">Country</label>
                                        <input type="text" class="form-control" name="country" id="country">
                                    </div>

                                    <div class="form-group col-md-6">
                                        <label for="zip">Zip</label>
                                        <input type="text" class="form-control" name="zip" id="zip">
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-outline-success">Save</button>
                                <button type="reset" class="btn btn-outline-danger">Reset</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>


       
        <!-- Sign UP Container -->
        <div class="row" id="signUpBox">
            <div class="d-flex justify-content-center allign-items-center">
                <div class="card w-70">
                    <div class="card-body">
                        <form id="signUpForm">
                            <div class="row">
                                <div class="col-lg-6 signupImgContainer">
                                    <img src="signup.png" class="img-fluid mt-5 b" />
                                </div>
                                <div class="col-lg-6">
                                    <h4 class="text-center">Sign UP!</h4>
                                    <h6 class="text-danger text-sm" id="signUPErrorMessage"></h6>
                                    <div class="form-group">
                                        <input type="text" class="form-control" name="name" placeholder="Enter Name"
                                            required />
                                    </div>
                                    <div class="form-group">
                                        <input type="Email" class="form-control" name="email" placeholder="Enter Email"
                                            required />
                                    </div>
                                    <div class="form-group">
                                        <input type="Password" class="form-control" id="password" name="password"
                                            placeholder="Enter Password" required />
                                    </div>
                                    <div class="form-group">
                                        <input type="Password" class="form-control" id="confirmPassword"
                                            name="confirmPassword" placeholder="Enter Confirm Password" required />
                                    </div>
                                    <div class="form-group">
                                        <input type="phone" class="form-control" name="phone"
                                            placeholder="Enter phone number" required />
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" name="exprience"
                                            placeholder="Enter Work Exprience" required />
                                    </div>
                                    <div class="form-group form-check">
                                        <input type="checkbox" class="form-check-input" name="term_condition" required>I
                                        agree all the
                                        statements in Terms of
                                        Service.
                                    </div>
                                    <button type="submit"
                                        class="btn btn-primary btn-block rounded-pill">Register</button>
                                    <hr />
                                    <div class="text-sm text-center">
                                        Already on Site? <a href="#" class="text-decoration-none"
                                            onclick="showSignIn()"> Sign In</a>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>


    </div>
    <script>
        function showSignIn() {
            // Intial state
            document.getElementById("signInErrorMessage").innerHTML = "";
            document.getElementById("signInForm").reset();

            document.getElementById("myProfileInfoBox").style.display = "none";
            document.getElementById("signInBox").style.display = "block";
            document.getElementById("signUpBox").style.display = "none";
        }
        function showSignUp() {
            // Intial state
            document.getElementById("password").style.border = "";
            document.getElementById("confirmPassword").style.border = "";
            document.getElementById("signUPErrorMessage").innerHTML = "";
            document.getElementById("signUpForm").reset();


            document.getElementById("myProfileInfoBox").style.display = "none";
            document.getElementById("signInBox").style.display = "none";
            document.getElementById("signUpBox").style.display = "block";
        }
        function showMyProfile() {
            document.getElementById("myProfileInfoBox").style.display = "block";
            document.getElementById("signInBox").style.display = "none";
            document.getElementById("signUpBox").style.display = "none";
        }
        function showContainer() {

            let isLogin = JSON.parse(localStorage.getItem('isLogin'));
            let user = JSON.parse(localStorage.getItem('user'));
            if (isLogin && user) {
                document.getElementById("userCardFullName").innerHTML = user.name;
                document.getElementById("userCardExprience").innerHTML = user.exprience ? user.exprience : '';
                document.getElementById("userFullName").innerHTML = user.name;
                document.getElementById("userEmailId").innerHTML = user.email;
                document.getElementById("userPhone").innerHTML = user.phone;

                if (user.address) {
                    document.getElementById("address1").value = user.address.address1;
                    document.getElementById("address2").value = user.address.address2;
                    document.getElementById("city").value = user.address.city;
                    document.getElementById("state").value = user.address.state;
                    document.getElementById("country").value = user.address.country;
                    document.getElementById("zip").value = user.address.zip;
                } else {
                    document.getElementById("address1").value = "";
                    document.getElementById("address2").value = "";
                    document.getElementById("city").value = "";
                    document.getElementById("state").value = "";
                    document.getElementById("country").value = "";
                    document.getElementById("zip").value = "";
                }
                showMyProfile();
            }
            else if (user == null) {
                showSignUp();
            }
            else {
                showSignIn();
            }
        }

        function signOut() {
            localStorage.removeItem("isLogin");
            showContainer();
        }

        let signUpForm = document.getElementById("signUpForm");
        signUpForm.onsubmit = function (event) {
            event.preventDefault();
            // Intial state
            document.getElementById("password").style.border = "";
            document.getElementById("confirmPassword").style.border = "";
            document.getElementById("signUPErrorMessage").innerHTML = "";
            let user = JSON.parse(localStorage.getItem('user'));

            let signUpData = {
                name: signUpForm.elements["name"].value,
                email: signUpForm.elements["email"].value,
                password: signUpForm.elements["password"].value,
                confirmPassword: signUpForm.elements["confirmPassword"].value,
                phone: signUpForm.elements["phone"].value,
                exprience: signUpForm.elements["exprience"].value,
                term_condition: signUpForm.elements["term_condition"].value,
            };
            if (user) {
                if (user.email === signUpData.email) {
                    document.getElementById("signUPErrorMessage").innerHTML = "Opps! Email Id already exist, Please try with different Email Id.";
                    return false;
                }
            }

            if (signUpData.password === signUpData.confirmPassword) {
                localStorage.setItem('user', JSON.stringify(signUpData));
                alert("Sign Up is successfully completed");
                signUpForm.reset();
                showContainer();

            } else {
                document.getElementById("password").style.border = "1px solid red";
                document.getElementById("confirmPassword").style.border = "1px solid red";
                document.getElementById("signUPErrorMessage").innerHTML = "Password and Confirm Password does not matched";
            }
        }

        let signInForm = document.getElementById("signInForm");
        signInForm.onsubmit = function (event) {
            event.preventDefault();
            //Intial State
            document.getElementById("signInErrorMessage").innerHTML = "";

            let email = signInForm.elements["email"].value;
            let password = signInForm.elements["password"].value;
            let user = JSON.parse(localStorage.getItem('user'));
            if (user === null) {
                document.getElementById("signInErrorMessage").innerHTML = "Opps! Invalide Credential, Please try again.";
                return false;

            }
            if (user.email !== email) {
                document.getElementById("signInErrorMessage").innerHTML = "Opps! Invalide Credential, Please try again.";
                return false;
            }
            if (user.password === password) {
                localStorage.setItem('isLogin', JSON.stringify(true));
                signInForm.reset();
                showContainer();

            } else {
                signInForm.reset();
                document.getElementById("signInErrorMessage").innerHTML = "Opps! Invalide Credential, Please try again.";

            }
        }

        let addressForm = document.getElementById("addressForm");
        addressForm.onsubmit = function (event) {
            event.preventDefault();
            let addressData = {
                address1: addressForm.elements["address1"].value,
                address2: addressForm.elements["address2"].value,
                city: addressForm.elements["city"].value,
                state: addressForm.elements["state"].value,
                country: addressForm.elements["country"].value,
                zip: addressForm.elements["zip"].value
            };
            let user = JSON.parse(localStorage.getItem('user'));
            user.address = addressData;
            localStorage.setItem('user', JSON.stringify(user));
            alert("Address is successfully saved");
            showContainer();
        }
    </script>
</body>

</html>